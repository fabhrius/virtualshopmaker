!function(){"use strict";var e=React,t=ReactDOM,a=function(e){var t=e.post,a=e.attributes,r=t.link,n=t.thumbnail,l=n.url,o=n.alt,c=t.categories,i=a.isFImg,s=a.isFImgLink,u=a.isMeta,m=a.isMetaCategory,p=a.metaCategoryIn,b=a.isLinkNewTab;return i&&l?React.createElement("figure",{className:"apbThumb"},s?React.createElement("a",{href:r,target:b?"_blank":"_self",rel:"noreferrer","aria-label":o},React.createElement("img",{src:l,alt:o})):React.createElement("img",{src:l,alt:o}),u&&m&&"image"===p&&React.createElement("div",{className:"apbThumbCats",dangerouslySetInnerHTML:{__html:c.space}})):null},r=function(e){var t=e.post,a=e.attributes,r=t.author||{},n=r.name,l=r.link,o=a.isMetaAuthor,c=a.isMetaAuthorLink,i=void 0===c||c,s=a.metaAuthorIcon;return o?React.createElement("span",null,s?React.createElement("img",{src:s,alt:"Author"}):React.createElement("span",{className:"dashicons dashicons-admin-users"}),i?React.createElement("a",{href:l,target:"_blank",rel:"noreferrer","aria-label":n},n):React.createElement("span",null,n)):null},n=function(e){var t=e.post,a=e.attributes,r=t.date,n=a.isMetaDate,l=a.metaDateIcon;return n?React.createElement("span",null,l?React.createElement("img",{src:l,alt:"Date"}):React.createElement("span",{className:"dashicons dashicons-calendar-alt"}),React.createElement("span",null,r)):null};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r,n,l=[],o=!0,c=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(c)throw n}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var i=function(e,t){return e&&e.split(" ").splice(0,t).join(" ")},s=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=t.reduce((function(e,t){return"string"==typeof t?e.push(t):"object"===l(t)&&Object.entries(t).forEach((function(t){var a=o(t,2),r=a[0];a[1]&&e.push(r)})),e}),[]);return r.join(" ")},u=function(e){var t,a=e.post,r=e.attributes,n=a.categories,l=r.isMetaCategory,o=r.metaCategoryIn,c=r.metaCategoryIcon;return l&&"content"===o?React.createElement("span",null,c?React.createElement("img",{src:c,alt:"Author"}):React.createElement("span",{className:"dashicons dashicons-category"}),(t=n.coma,React.createElement("span",{dangerouslySetInnerHTML:{__html:t}}))):null},m=function(e){var t=e.post,a=e.attributes,r=t.readTime,n=a.isMetaReadTime,l=a.metaReadTimeIcon,o=a.isMetaReadTimeSec,c=a.metaReadTimeLabel,i=o?"".concat(null==r?void 0:r.min,":").concat(null==r?void 0:r.sec):null==r?void 0:r.min;return n?React.createElement("span",null,l?React.createElement("img",{src:l,alt:"Author"}):React.createElement("span",{className:"dashicons dashicons-clock"}),React.createElement("span",null,i," ",c)):null},p=function(e){var t=e.post,a=e.attributes,r=t.link,n=t.title,l=t.commentCount,o=a.isMetaComment,c=a.metaCommentIcon;return o?React.createElement("span",null,c?React.createElement("img",{src:c,alt:"Author"}):React.createElement("span",{className:"dashicons dashicons-admin-comments"}),React.createElement("a",{href:"".concat(r,"/#comments"),target:"_blank",rel:"noreferrer","aria-label":"Comments of ".concat(n)},l)):null},b=function(e){var t=e.post,a=e.attributes;return a.isMeta&&React.createElement("div",{className:"apbMeta"},React.createElement(r,{post:t,attributes:a}),React.createElement(n,{post:t,attributes:a}),React.createElement(u,{post:t,attributes:a}),React.createElement(m,{post:t,attributes:a}),React.createElement(p,{post:t,attributes:a}))},f=function(e){var t=e.post,a=e.attributes,r=t.link,n=t.title,l=a.isTitle,o=a.isTitleLink,c=a.isLinkNewTab;return l?React.createElement(React.Fragment,null,o?React.createElement("h3",{className:"apbTitle"},React.createElement("a",{href:r,target:c?"_blank":"_self",rel:"noreferrer",dangerouslySetInnerHTML:{__html:n},"aria-label":n})):React.createElement("h3",{className:"apbTitle",dangerouslySetInnerHTML:{__html:n}})):null},d=function(e){var t=e.post,a=e.attributes,r=a.elementsSort;return(void 0===r?["title","meta"]:r).map((function(e,r){return"title"===e?React.createElement(f,{key:r,post:t,attributes:a}):React.createElement(b,{key:r,post:t,attributes:a})}))},v=function(e){var t,a=e.post,r=e.attributes,n=a.excerpt,l=a.content,o=r.isExcerpt,c=r.isExcerptFromContent,s=r.isEllipsisOnExcerpt,u=r.excerptLength,m=!c&&n?n:l,p=s&&((t=m)?t.split(" ").length:0)>u?"...":"";return o?React.createElement("div",{className:"apbExcerpt apbInnerContent",dangerouslySetInnerHTML:{__html:"".concat(i(m,u)).concat(p)}}):null},y=function(e){var t=e.post,a=e.attributes,r=t.link,n=a.isReadMore,l=a.readMorePosition,o=void 0===l?"auto":l,c=a.readMoreLabel,i=a.isLinkNewTab;return n?React.createElement("div",{className:"apbReadMore ".concat(o)},React.createElement("a",{href:r,target:i?"_blank":"_self",rel:"noreferrer",dangerouslySetInnerHTML:{__html:c},"aria-label":c})):null},g=function(e){var t=e.post,r=e.attributes,n=e.postClass,l=r.subLayout,o=s(n,"apbDefault");return React.createElement("article",{className:o},React.createElement(a,{post:t,attributes:r}),React.createElement("div",{className:"apbText"},React.createElement(d,{post:t,attributes:r}),"title-meta"!==l&&React.createElement(React.Fragment,null,React.createElement(v,{post:t,attributes:r}),React.createElement(y,{post:t,attributes:r}))))},h=function(e){var t=e.post,r=e.attributes,n=e.postClass,l=t.thumbnail,o=r.subLayout,c=r.isFImg,i="left-image"===o,u="right-image"===o,m=s(n,"apbSideImage",{grid:c&&l.url,leftImage:i,rightImage:u});return React.createElement("article",{className:m},i&&React.createElement(a,{post:t,attributes:r}),React.createElement("div",{className:"apbText"},React.createElement(d,{post:t,attributes:r}),React.createElement(v,{post:t,attributes:r}),React.createElement(y,{post:t,attributes:r})),u&&React.createElement(a,{post:t,attributes:r}))},E=function(e){var t=e.post,a=e.attributes,r=e.postClass,n=t.title,l=t.thumbnail.url,o=a.subLayout,c=s(r,"apbOverlay",{apbOverlayHover:"overlay-content-hover"===o&&l,apbOverlayBox:"overlay-box"===o||"overlay-content-box"===o,apbOverlayHalfContent:"overlay-half-content"===o});return React.createElement("article",{className:c},l&&React.createElement("img",{src:l,alt:n}),React.createElement("div",{className:"apbText"},React.createElement(d,{post:t,attributes:a}),"overlay-box"!==o&&"overlay-half-content"!==o&&React.createElement(React.Fragment,null,React.createElement(v,{post:t,attributes:a}),React.createElement(y,{post:t,attributes:a}))))},R=function(e){var t=e.posts,a=e.attributes,r=a.layout,n=a.subLayout,l=a.content,o=void 0===l?{height:"auto"}:l;return t.map((function(e){var t=e.id,l=e.thumbnail,c=s("apbPost","apbPost-".concat(t),"".concat(null==o?void 0:o.height,"ContentHeight"),{hasThumbnail:l.url,"swiper-slide":"slider"===r});switch(n){case"default":case"title-meta":return React.createElement(g,{post:e,attributes:a,postClass:c});case"left-image":case"right-image":return React.createElement(h,{post:e,attributes:a,postClass:c});case"overlay-content":case"overlay-content-hover":case"overlay-box":case"overlay-content-box":case"overlay-half-content":return React.createElement(E,{post:e,attributes:a,postClass:c});default:return null}}))},P=function(e){var t=e.posts,a=e.attributes,r=a.layout,n=a.columns,l=a.sliderIsPage,o=a.sliderIsPrevNext,c=n.desktop,i=void 0===c?3:c,s=n.tablet,u=void 0===s?2:s,m=n.mobile,p=void 0===m?1:m,b=function(){return React.createElement(R,{posts:t,attributes:a})};switch(r){case"grid":return React.createElement("div",{className:"apbGridPosts columns-".concat(i," columns-tablet-").concat(u," columns-mobile-").concat(p)},React.createElement(b,null));case"grid1":return React.createElement("div",{className:"apbGrid1Posts"},React.createElement(b,null));case"masonry":return React.createElement("div",{className:"apbMasonryPosts cols-".concat(i," cols-tablet-").concat(u," cols-mobile-").concat(p)},React.createElement(b,null));case"slider":return React.createElement("div",{className:"apbSliderPosts"},React.createElement("div",{className:"swiper-wrapper"},React.createElement(b,null)),l&&React.createElement("div",{className:"swiper-pagination"}),o&&React.createElement(React.Fragment,null,React.createElement("div",{className:"swiper-button-prev"}),React.createElement("div",{className:"swiper-button-next"})));case"ticker":return React.createElement("div",{className:"apbTickerPosts"},React.createElement("div",null,React.createElement(b,null)));default:return null}};function S(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var w="&#183;",I=function(e,t){var a=t-e+1;return Array.from({length:a},(function(t,a){return a+e}))};function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r,n,l=[],o=!0,c=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(c)throw n}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var M=function(t){var a=t.attributes,r=t.totalCount,n=t.onChange,l=a.layout,o=a.isPostsPerPageAll,c=a.postsPerPage,i=a.isPagination,s=a.paginationPrevLabel,u=a.paginationNextLabel,m=A((0,e.useState)(1),2),p=m[0],b=m[1],f=function(t){var a=t.currentPage,r=t.totalCount,n=t.pageSize,l=t.siblingCount,o=void 0===l?1:l;return(0,e.useMemo)((function(){var e=Math.ceil(r/n);if(o+5>=e)return I(1,e);var t=Math.max(a-o,1),l=Math.min(a+o,e),c=t>2,i=l<e-2,s=1,u=e;if(!c&&i){var m=I(1,3+2*o);return[].concat(S(m),[w,e])}if(c&&!i){var p=I(e-(3+2*o)+1,e);return[s,w].concat(S(p))}if(c&&i){var b=I(t,l);return[s,w].concat(S(b),[w,u])}}),[a,r,n,o])}({currentPage:p,totalCount:r,pageSize:c,siblingCount:1});if(0===p||f.length<2)return null;var d=f[f.length-1],v=function(e){n(e),b(e)};return i&&!o&&"slider"!==l&&"ticker"!==l?React.createElement("ul",{className:"apbPagination"},React.createElement("li",{className:"apbPageNumber ".concat(1===p?"disabled":""),onClick:function(){return v(p-1)}},s),f.map((function(e,t){return e===w?React.createElement("li",{key:t,className:"dots"},"·····"):React.createElement("li",{key:t,className:"apbPageNumber ".concat(e===p?"apbActivePage":""),onClick:function(){return v(e)}}," ",e)})),React.createElement("li",{className:"apbPageNumber ".concat(p===d?"disabled":""),onClick:function(){return v(p+1)}},u)):null};function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r,n,l=[],o=!0,c=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(c)throw n}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var T=jQuery;document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".wp-block-ap-block-posts").forEach((function(e){var a,r,n,l,o=JSON.parse(e.dataset.attributes),c=JSON.parse(e.dataset.extra).totalPosts,i=o.layout;if("slider"===i){var s=document.querySelector("#".concat(e.id," .apbSliderPosts"));s&&(new Swiper(s,function(e){var t=e.columns,a=e.columnGap,r=e.sliderIsLoop,n=e.sliderIsTouchMove,l=e.sliderIsAutoplay,o=e.sliderAutoplayOptions,c=void 0===o?{delay:1.5}:o,i=e.sliderSpeed,s=e.sliderEffect,u=e.sliderIsPageClickable,m=e.sliderIsPageDynamic;return{direction:"horizontal",slidesPerView:null==t?void 0:t.mobile,breakpoints:{576:{slidesPerView:null==t?void 0:t.tablet},768:{slidesPerView:null==t?void 0:t.desktop}},spaceBetween:a,loop:r,allowTouchMove:n,grabCursor:n,autoplay:!!l&&{delay:1e3*(null==c?void 0:c.delay)},speed:1e3*i,effect:s,fadeEffect:{crossFade:!0},creativeEffect:{prev:{shadow:!0,translate:["-120%",0,-500]},next:{shadow:!0,translate:["120%",0,-500]}},allowSlideNext:!0,allowSlidePrev:!0,autoHeight:!1,notificationClass:null,pagination:{el:".swiper-pagination",clickable:u,dynamicBullets:m},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}(o)),a=e.id,r=[],n=document.querySelectorAll("#".concat(a," .apbSliderPosts .swiper-slide")),null==(l=document.querySelectorAll("#".concat(a," .apbSliderPosts .swiper-slide .apbText")))||l.forEach((function(e){r.push(null==e?void 0:e.clientHeight)})),(null==n?void 0:n.length)&&n.forEach((function(e){e.style.height="".concat(Math.max.apply(Math,r),"px")})))}if("ticker"===i){var u=document.querySelector("#".concat(e.id," .apbTickerPosts"));u&&T(u).easyTicker(function(e){var t=e.rowGap,a=e.tickerDirection,r=void 0===a?"up":a,n=e.tickerSpeed,l=void 0===n?"slow":n,o=e.tickerInterval,c=void 0===o?2e3:o,i=e.tickerHeight,s=void 0===i?"0px":i,u=e.tickerVisible,m=void 0===u?3:u,p=e.tickerIsMousePause,b=void 0===p||p;return{direction:r,easing:"swing",speed:isNaN(l)?l:parseInt(l),interval:c,height:"0px"===s||"0em"===s?"auto":s,gap:t,visible:m,mousePause:b}}(o))}(0,t.render)(React.createElement(L,{postEl:e,totalPosts:c,attributes:o}),document.querySelector("#".concat(e.id," .apbPostsMain"))),null==e||e.removeAttribute("data-attributes"),null==e||e.removeAttribute("data-extra")}))}));var L=function(t){var a=t.postEl,r=t.totalPosts,n=t.attributes,l=n.cId,o=n.layout,c=n.isPostsPerPageAll,i=n.postsPerPage,s=n.postsOffset,u=n.isPagination,m=n.paginationPrevLabel,p=n.paginationNextLabel,b=n.fImgSize,f=void 0===b?"full":b,d=n.metaDateFormat,v=void 0===d?"M j, Y":d,y=C((0,e.useState)([]),2),g=y[0],h=y[1],E=document.querySelector("#".concat(a.id," .apbPostsMainPH"));return(0,e.useEffect)((function(){(null==g?void 0:g.length)&&(null==E||E.remove())}),[g,E]),React.createElement(React.Fragment,null,null!=g&&g.length?React.createElement(P,{posts:g,attributes:n,clientId:l}):null,React.createElement(M,{attributes:{layout:o,isPostsPerPageAll:c,postsPerPage:i,isPagination:u,paginationPrevLabel:m,paginationNextLabel:p},totalCount:r,onChange:function(e){var t;fetch("".concat(null===(t=apbPageData)||void 0===t?void 0:t.ajaxUrl,"?action=apb_get_posts&cId=").concat(l,"&pageNumber=").concat(e,"&postsPerPage=").concat(i,"&postsOffset=").concat(s,"&fImgSize=").concat(f,"&metaDateFormat=").concat(v)).then((function(e){return e.json()})).then((function(e){return h(e)}))}}))}}();
//# sourceMappingURL=script.js.map